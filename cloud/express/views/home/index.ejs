<% include ../includes/start.ejs %>
<% include ../includes/header.ejs %>
<div class="dashboard">
  <div class="map"></div>
  <div class="workers first">
    <div class="header">Current Workers</div>
    <div class="listing">
      <% workers.forEach(function(worker) { %>
        <div class="worker" data-id="<%= worker.id %>" data-lat="<%= worker.lat %>" data-lng="<%= worker.lng %>">
          <div class="name"><%= worker.name %></div>
          <%
            var status = ""

            switch(worker.status) {
              case 1: status = "Disabled"; break
              case 2: status = "Available"; break
              case 3: status = "Pending"; break
              case 4: status = "Working"; break
            }
          %>
          <div class="status <%=: status | lower %>"><%= status %></div>
          <div class="drop">Drop</div>
          <div class="clear"></div>
        </div>
      <% }) %>
    </div>
  </div>
  <div class="workers">
    <div class="header">Pending Workers</div>
    <div class="listing">
     <% pendingWorkers.forEach(function(worker) { %>
        <div class="worker" data-id="<%= worker.id %>" data-lat="<%= worker.lat %>" data-lng="<%= worker.lng %>">
          <div class="name"><%= worker.name %></div>
          <div class="accept">Accept</div>
          <div class="decline">Decline</div>
          <div class="clear"></div>
        </div>
      <% }) %>
    </div>
  </div>
  <div class="clear"></div>
</div>
<% include ../includes/end.ejs %>
